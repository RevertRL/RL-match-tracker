<%- include('../partials/header') %>

<h1 class="text-6xl">Match History</h1>
<ul>
    <% players.forEach(function(player) { %>
        <li>
            <h2 class="text-4xl"><%= player.name %></h2>
            <form action="/<%= player._id %>/matches" method="POST">
                <label for="result">Match Result:</label>
                <select id="result" name="result" required>
                    <option value="Win">Win</option>
                    <option value="Loss">Loss</option>
                </select>
                <label for="score1">Team 1:</label>
                <input type="number" id="score1" name="score1" min="0" max="25" required>
                <label for="score2">Team 2:</label>
                <input type="number" id="score2" name="score2" min="0" max="25" required>
                <label for="playerScore">Player Score:</label>
                <input type="number" id="playerScore" name="playerScore" min="0" max="5000" required>
                <label for="playerGoals">Player Goals:</label>
                <input type="number" id="playerGoals" name="playerGoals" min="0" max="25" required>
                <button type="submit">Add Match</button>
            </form>
            <ul>
                <% player.matches.forEach(function(match) { %>
                  <li>
                    <%= match.type %> - <%= match.result %> - <%= match.score1 %> - <%= match.score2 %> - <%= match.playerScore %> - <%= match.playerGoals %>
                  </li>
                <% }); %>
            </ul>
        </li>
    <% }); %>
</ul>

<h1>Match Details</h1>

<ul>
    <% players.forEach(player => { %>
      <li class="player">
        <strong>Name:</strong> <%= player.name %><br>
        <strong>Skill Group:</strong> <%= player.skillGroup %><br>
        
      </li>
    <% }) %>
  </ul>
  <ul>
    <% matches.forEach(function(match) { %>
      <li class="match">
        <strong>Result:</strong> <%= match.result %><br>
        <strong>Team 1:</strong> <%= match.score1 %><br>
        <strong>Team 2:</strong> <%= match.score2 %><br>
        <strong>Player Score:</strong> <%= match.playerScore %><br>
        <strong>Player Goals:</strong> <%= match.playerGoals %><br>
      </li>
    <% }); %>
 </ul>

<%- include('../partials/footer') %>